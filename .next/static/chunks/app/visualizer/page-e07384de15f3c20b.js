(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{43267:(e,o,t)=>{Promise.resolve().then(t.bind(t,80830))},80830:(e,o,t)=>{"use strict";t.d(o,{default:()=>h});var r=t(95155),i=t(12115),s=t(71482),a=t(49941),d=t(95535),n=t(33434),l=t(94946),c=t.n(l);t(44669);let p={"react-typescript":{bg:"#1a365d",border:"#4299e1",icon:"⚛️"},typescript:{bg:"#1e3a5f",border:"#3178c6",icon:"\uD83D\uDCD8"},javascript:{bg:"#3d3d00",border:"#f7df1e",icon:"\uD83D\uDCD2"},css:{bg:"#1a1a4e",border:"#264de4",icon:"\uD83C\uDFA8"},json:{bg:"#1a1a1a",border:"#555",icon:"\uD83D\uDCC4"},markdown:{bg:"#1a2a1a",border:"#083fa1",icon:"\uD83D\uDCDD"},directory:{bg:"#2d1f3d",border:"#9f7aea",icon:"\uD83D\uDCC1"},root:{bg:"#1a3d1a",border:"#48bb78",icon:"\uD83C\uDFE0"},other:{bg:"#1a1a1a",border:"#555",icon:"\uD83D\uDCC4"}},x=e=>{let{data:o}=e,t=o.isRoot?p.root:o.isDirectory?p.directory:p[o.lang]||p.other,i=o.isRoot?200:o.isDirectory?180:200;return(0,r.jsxs)("div",{style:{padding:o.isRoot?"14px 18px":"10px 14px",borderRadius:o.isDirectory||o.isRoot?"12px":"8px",background:t.bg,color:"#fff",border:"2px solid ".concat(t.border),boxShadow:o.isRoot?"0 8px 24px rgba(72, 187, 120, 0.3)":"0 4px 12px rgba(0,0,0,0.4)",width:i,fontFamily:"system-ui, sans-serif",fontSize:"12px"},children:[(0,r.jsx)(s.h7,{type:"target",position:s.yX.Top,style:{background:t.border}}),(0,r.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px",fontSize:o.isRoot?"14px":"12px"},children:[(0,r.jsx)("span",{children:t.icon}),(0,r.jsx)("span",{style:{wordBreak:"break-word"},children:o.label})]}),(o.isDirectory||o.isRoot)&&void 0!==o.fileCount&&(0,r.jsxs)("div",{style:{fontSize:"10px",opacity:.7},children:[o.fileCount," file",1!==o.fileCount?"s":""]}),!o.isDirectory&&!o.isRoot&&o.lang&&(0,r.jsx)("div",{style:{fontSize:"10px",opacity:.6,marginBottom:"4px"},children:o.lang}),o.summary&&(0,r.jsxs)("div",{style:{fontSize:"10px",opacity:.85,marginTop:"6px",padding:"6px",background:"rgba(0,0,0,0.2)",borderRadius:"4px",lineHeight:"1.4",maxHeight:"60px",overflow:"hidden"},children:[o.summary.slice(0,120),o.summary.length>120?"...":""]}),o.exports&&o.exports.length>0&&(0,r.jsxs)("div",{style:{fontSize:"9px",marginTop:"6px",opacity:.6},children:["↗ ",o.exports.slice(0,2).join(", "),o.exports.length>2?" +".concat(o.exports.length-2):""]}),(0,r.jsx)(s.h7,{type:"source",position:s.yX.Bottom,style:{background:t.border}})]})};function h(){let[e,o]=(0,i.useState)(null),[t,l]=(0,i.useState)(!0),[h,u]=(0,i.useState)(null),[y,g,b]=(0,s.ck)([]),[f,m,j]=(0,s.fM)([]),v=(0,i.useMemo)(()=>({capsule:x}),[]);return((0,i.useEffect)(()=>{fetch("/capsules.json").then(e=>{if(!e.ok)throw Error("Failed to load capsules.json");return e.json()}).then(e=>{o(e);let{nodes:t,edges:r}=(e=>{var o;let t=[],r=[],i=new Set,a="root",d=e.directories?null==(o=e.directories["."])?void 0:o.upperLevelSummary:void 0;return t.push({id:a,type:"capsule",data:{label:"Project Root",lang:"root",isRoot:!0,fileCount:Object.keys(e.files).length,exports:[],summary:d},position:{x:0,y:0}}),Object.values(e.files).forEach(o=>{var s,d;let n=o.relativePath.split("/");n.pop();let l=o.relativePath,c="",p=a;n.forEach((o,s)=>{c=c?"".concat(c,"/").concat(o):o;let a="dir-".concat(c);if(!i.has(c)){let d=e.directories?e.directories[c]:void 0;t.push({id:a,type:"capsule",data:{label:o+"/",lang:"directory",isDirectory:!0,fileCount:0,exports:[],summary:null==d?void 0:d.upperLevelSummary,depth:s+1},position:{x:0,y:0}}),r.push({id:"".concat(p,"->").concat(a),source:p,target:a,type:"smoothstep",style:{stroke:"#48bb78",strokeWidth:2}}),i.add(c)}p=a}),t.push({id:l,type:"capsule",data:{label:o.name,lang:o.lang,summary:o.upperLevelSummary||(null==(d=o.metadata)||null==(s=d.fileDocstring)?void 0:s.slice(0,100)),exports:o.exports.map(e=>e.name),depth:n.length+1},position:{x:0,y:0}}),r.push({id:"".concat(p,"->").concat(l),source:p,target:l,type:"smoothstep",style:{stroke:"#555",strokeWidth:1}})}),Object.entries(e.files).forEach(e=>{var o;let[i,a]=e;(null==(o=a.metadata)?void 0:o.usedBy)&&a.metadata.usedBy.forEach(e=>{t.find(o=>o.id===e)&&r.push({id:"dep-".concat(e,"->").concat(i),source:e,target:i,type:"smoothstep",animated:!0,style:{stroke:"#4299e1",strokeWidth:1.5},markerEnd:{type:s.TG.ArrowClosed,color:"#4299e1",width:12,height:12}})})}),{nodes:t,edges:r}})(e),{nodes:i,edges:a}=((e,o)=>{let t=new(c()).graphlib.Graph;return t.setGraph({rankdir:"TB",ranksep:80,nodesep:40,marginx:50,marginy:50}),t.setDefaultEdgeLabel(()=>({})),e.forEach(e=>{let o=e.data.isRoot?200:e.data.isDirectory?180:200,r=e.data.summary?130:80;t.setNode(e.id,{width:o,height:r})}),o.filter(e=>!e.id.startsWith("dep-")).forEach(e=>t.setEdge(e.source,e.target)),c().layout(t),{nodes:e.map(e=>{let o=t.node(e.id),r=e.data.isRoot?200:e.data.isDirectory?180:200;return{...e,position:{x:o.x-r/2,y:o.y-40}}}),edges:o}})(t,r);g(i),m(a),l(!1)}).catch(e=>{u(e.message),l(!1)})},[g,m]),t)?(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0a",color:"#fff",fontSize:"18px"},children:(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDD0D"}),"Loading codebase visualization..."]})}):h?(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0a",color:"#ff6b6b",gap:"16px"},children:[(0,r.jsx)("div",{style:{fontSize:"48px"},children:"⚠️"}),(0,r.jsx)("div",{style:{fontSize:"20px"},children:"Error Loading Visualization"}),(0,r.jsx)("div",{style:{color:"#888"},children:h}),(0,r.jsxs)("div",{style:{color:"#666",fontSize:"14px",marginTop:"20px"},children:["Make sure ",(0,r.jsx)("code",{style:{background:"#222",padding:"2px 6px",borderRadius:"4px"},children:"capsules.json"})," is in the ",(0,r.jsx)("code",{style:{background:"#222",padding:"2px 6px",borderRadius:"4px"},children:"public/"})," directory"]})]}):(0,r.jsx)("div",{style:{width:"100vw",height:"100vh",background:"#0a0a0a"},children:(0,r.jsx)(s.Ln,{children:(0,r.jsxs)(s.Gc,{nodes:y,edges:f,onNodesChange:b,onEdgesChange:j,nodeTypes:v,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:2,children:[(0,r.jsx)(a.V,{color:"#1a1a1a",gap:20}),(0,r.jsx)(d.H,{style:{background:"#1a1a1a",borderRadius:"8px"}}),(0,r.jsx)(n.o,{nodeColor:e=>{let o=e.data;return o.isRoot?p.root.border:o.isDirectory?p.directory.border:(p[o.lang]||p.other).border},maskColor:"rgba(0, 0, 0, 0.85)",style:{background:"#1a1a1a",borderRadius:"8px"}}),(0,r.jsxs)(s.Zk,{position:"top-left",style:{background:"rgba(0,0,0,0.8)",padding:"16px 20px",borderRadius:"12px",color:"#fff",backdropFilter:"blur(10px)"},children:[(0,r.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px",marginBottom:"8px"},children:"\uD83D\uDCCA Codebase Visualization"}),(0,r.jsxs)("div",{style:{fontSize:"12px",color:"#aaa"},children:[null==e?void 0:e.stats.totalFiles," files • ",null==e?void 0:e.stats.totalDirectories," directories • ",null==e?void 0:e.stats.totalEdges," dependencies"]})]}),(0,r.jsxs)(s.Zk,{position:"top-right",style:{background:"rgba(0,0,0,0.8)",padding:"12px 16px",borderRadius:"12px",fontSize:"11px",color:"#aaa",backdropFilter:"blur(10px)"},children:[(0,r.jsx)("div",{style:{marginBottom:"8px",fontWeight:"bold",color:"#fff"},children:"Legend"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{color:p.root.border},children:"●"})," Project Root"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{color:p.directory.border},children:"●"})," Directory"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{color:p["react-typescript"].border},children:"●"})," React Component"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{color:p.typescript.border},children:"●"})," TypeScript"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{color:p.css.border},children:"●"})," CSS"]}),(0,r.jsx)("div",{style:{marginTop:"8px",borderTop:"1px solid #333",paddingTop:"8px"},children:(0,r.jsx)("div",{style:{color:"#4299e1"},children:"→ Import dependency"})})]})]})]})})})}}},e=>{e.O(0,[718,702,170,441,255,358],()=>e(e.s=43267)),_N_E=e.O()}]);